# Code Generation

## Overview

The code generator produces C# source files from table schemas. For each table, it generates an entry class (the individual record) and a database class (the collection container).

## Generated Structure

For a table named "Weapon", the generator produces:

```csharp
// WeaponEntry.cs
using UnityEngine;
using System.Collections.Generic;

public class WeaponEntry : ScriptableObject
{
    public int id;
    public string name;
    public float damage;
}

public class WeaponDatabase : ScriptableObject
{
    public List<WeaponEntry> entries;
}
```

## Naming

Class names are derived from the source:

| Source | Entry Class | Database Class |
|--------|-------------|----------------|
| CSV with `#class:Weapon` | `Weapon` | `WeaponDatabase` (or `#database:` override) |
| CSV without directives | `GeneratedEntry` | `GeneratedEntryDatabase` |
| SQLite table `items` | `ItemsEntry` | `ItemsDatabase` |

## Field Names

Column headers are sanitized into valid C# identifiers:

| Header | Field Name |
|--------|------------|
| `player-id` | `playerId` |
| `Max HP` | `maxHp` |
| `health_points` | `healthPoints` |
| `class` (reserved word) | `class_` |
| Empty header | `column_0`, `column_1`, etc. |
| Duplicate `name` | `name`, `name_2`, `name_3` |

## Attributes

The generator produces Unity attributes based on column flags:

```csharp
[Tooltip("Base damage value")]
[Range(0f, 200f)]
public float damage;

[Header("Description")]
[Multiline(5)]
public string description;

[HideInInspector]
public int internalId;
```

## Enum Generation

Enum columns produce enum declarations before the class:

```csharp
public enum Rarity
{
    Common,
    Rare,
    Epic,
    Legendary
}

public class ItemEntry : ScriptableObject
{
    public Rarity rarity;
}
```

## Configuration Options

| Setting | Effect |
|---------|--------|
| `UseListInsteadOfArray` | `List<int>` vs `int[]` for array types |
| `UseSerializeField` | `[SerializeField] private` vs `public` fields |
| `GeneratePropertyAccessors` | Adds read-only properties when using SerializeField |
| `GenerateTooltips` | Adds `[Tooltip]` to every field |
| `GenerateCreateAssetMenu` | Adds `[CreateAssetMenu]` to classes |
| `AddAutoGeneratedHeader` | Adds a comment header to generated files |
| `SerializableClassMode` | Generates `[Serializable]` class instead of ScriptableObject |
